{"version":3,"file":"generated.js","sources":["node_modules/browser-pack/_prelude.js","src/utility.coffee","src/index.coffee"],"names":["f","exports","module","define","amd","g","window","global","self","this","victorica","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"Utility","indexOf","item","ignores","voids","parse","str","offset","alone","begin","close","content","end","isClose","isOpen","isSelfClose","isVoid","last","left","name","open","right","tag","slice","match","toLowerCase","void","ignore","closeSelf","getIndent","repeat","space","Array","join","Victorica","extend","child","parent","ctor","constructor","key","hasProp","prototype","__super__","superClass","beautify","arg","chunk","debug","html","indent","level","ref","removeSelfClose","console","log","replace","JSON","stringify","trim"],"mappings":"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","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","class Utility\n  ignores: [\n    'script'\n    'style'\n    'title'\n\n    # https://developer.mozilla.org/en-US/docs/Web/HTML/Inline_elemente\n    'a'\n    'abbr'\n    'acronym'\n    'b'\n    'bdo'\n    'big'\n    'button'\n    'cite'\n    'code'\n    'dfn'\n    'em'\n    'i'\n    'img'\n    'kbd'\n    'label'\n    'map'\n    'object'\n    'pre'\n    'q'\n    'samp'\n    'small'\n    'span'\n    'strong'\n    'sub'\n    'sup'\n    'textarea'\n    'tt'\n    'var'\n  ]\n\n  voids: [\n    'doctype'\n\n    # http://www.w3.org/TR/2011/WD-html-markup-20110113/syntax.html#void-element\n    'area'\n    'base'\n    'br'\n    'col'\n    'command'\n    'embed'\n    'hr'\n    'img'\n    'input'\n    'keygen'\n    'link'\n    'meta'\n    'param'\n    'source'\n    'track'\n    'wbr'\n  ]\n\n  # To determine the appearance by the name of element\n  # Doesn't handle the innerHTML If comment or name exists ignoreList\n  parse: (str,offset,ignores=[])->\n    left= str.indexOf '<',offset\n    right= (str.indexOf '>',left)+1\n\n    tag= str.slice left,right\n    if tag[1] isnt '/'\n      open= tag\n    else\n      close= tag\n\n    name= (tag.match(/<\\!?\\/?([-\\w]*)/)[1] or '').toLowerCase()\n\n    if (str.slice offset,offset+4) is '<!--'\n      name= 'comment'\n      open= '<!--'\n      close= '-->'\n\n      begin= offset+4\n      end= str.indexOf close,begin\n\n      content= str.slice begin,end\n      last= end+close.length\n      return {name,open,content,close,last,alone:yes,void:no,ignore:yes}\n\n    last= right\n\n    isClose= tag[1] is '/'\n    isSelfClose= (tag.match /\\/>$/)?\n    isOpen= not (isClose or isSelfClose)\n    isVoid= name in @voids\n\n    # treated as alone. To disable the indentation(for level)\n    if name in ignores\n      close= '</'+name+'>'\n\n      begin= str.indexOf '>',offset\n      end= str.indexOf close,begin\n\n      content= str.slice begin+1,end\n      last= end+close.length\n      return {name,open,content,close,last,alone:yes,void:isVoid,ignore:yes}\n\n    alone= isVoid\n    if isOpen\n      alone= (str.indexOf '</'+name+'>',right) is (str.indexOf '<',right)\n\n      # Skip innerHTML formatting\n      if alone\n        content= str.slice right,(str.indexOf '<',right)\n        close= '</'+name+'>'\n        last= (str.indexOf '<',right)+close.length\n\n    return {name,open,content,close,last,alone,void:isVoid,ignore:no,closeSelf:isSelfClose}\n\n  getIndent: (repeat,space='  ')->\n    repeat= 0 unless repeat>-1\n    (new Array repeat+1).join space\n\nmodule.exports= new Utility\nmodule.exports.Utility= Utility\n","# Dependencies\nUtility= (require './utility').Utility\n\n# Public\nclass Victorica extends Utility\n  beautify: (str,{ignore,space,removeSelfClose,debug}={})->\n    html= ''\n\n    ignore?= @ignores\n    space?= '  '\n    removeSelfClose?= true\n    debug?= false\n\n    if debug\n      console.log '\\n'\n      console.log 'Level, Open, Close, Ignore, Void, Alone, Uplevel'\n      console.log 'L O C I V A U -------- chunk --------'\n\n    level= 0\n    offset= str.indexOf '<',offset\n    content= ''\n    while offset > -1\n      content= str.slice tag.last,offset if tag?.last\n\n      tag= @parse str,offset,ignore\n      unless content[0] is '\\n'\n        indent= @getIndent level,space\n        content= '\\n'+indent+content\n        indent= @getIndent level-1,space unless tag.open\n        content+= '\\n'+indent\n\n      level-= 1 unless tag.open?\n\n      chunk= ''\n      if content\n        indent= @getIndent level,space\n        content= content.replace /\\n\\s*/g,'\\n'+indent if content.match /^\\n\\s*$/\n\n        chunk+= content\n\n      if tag.open\n        tag.open= tag.open.replace /( )?\\/>/,'>' if tag.closeSelf and removeSelfClose\n        chunk+= tag.open\n\n      if tag.content\n        chunk+= tag.content\n\n      if tag.close\n        chunk+= tag.close\n\n      if debug\n        console.log level,\n          ~~(tag.open?),~~(tag.close?),~~(tag.ignore?),~~tag.alone,~~tag.void\n          ~~(not (tag.close? or tag.alone or tag.void))\n          JSON.stringify chunk\n\n      html+= chunk\n      level+= 1 unless tag.close? or tag.alone or tag.void\n\n      offset= str.indexOf '<',tag.last\n\n    if debug\n      console.log 'L O C I V A U -------- chunk --------'\n      console.log 'Level, Open, Close, Ignore, Void, Alone, Uplevel'\n\n    return str if html is ''\n\n    html.trim()\n\nmodule.exports= new Victorica\nmodule.exports.Victorica= Victorica\n"]}